jQuery(function(t){var e=window.location.hash;""!==e&&(t(".nav-tab-wrapper").children().removeClass("nav-tab-active"),t('.nav-tab-wrapper a[href="'+e+'"]').addClass("nav-tab-active"),t(".tabs-content").children().addClass("hidden"),t(".tabs-content div"+e.replace("#","#tab-")).removeClass("hidden"),t("body").trigger("show_"+e.replace("#","")+"_tab_content")),t(".nav-tab-wrapper").on("click","a",function(){var e=t(this).attr("href"),a=e.replace("#","#tab-");t(this).parent().children().removeClass("nav-tab-active"),t(this).addClass("nav-tab-active"),t(".tabs-content").children().addClass("hidden"),t(".tabs-content div"+a).removeClass("hidden"),t("body").trigger("show_"+e.replace("#","")+"_tab_content")}),t(".color_picker_trigger").wpColorPicker(),t(".shortcodes-list-wrapper").on("click",".toggle-shortcodes-list",function(e){e.preventDefault();var a=t(this).data("hide"),s=t(this).data("show"),r=t(this).next(".shortcodes-list");r.toggleClass("show");var n=r.hasClass("show")?a:s;t(this).text(n)}),t(".chosen-select").chosen({disable_search_threshold:10});var a={};t("body").on("click",".image_uploader_trigger",function(e){e.preventDefault();var s=t(this).data("name")||"",r=t(this).data("title")||wpmm_vars.image_uploader_defaults.title,n=t(this).data("button-text")||wpmm_vars.image_uploader_defaults.button_text,i=t(this).data("to-selector")||"";""!==s&&""!==i?a.hasOwnProperty(s)?a[s].open():(a[s]=wp.media.frames.file_frame=wp.media({title:r,button:{text:n},multiple:!1}),a[s].on("select",function(){var e=a[s].state().get("selection").first().toJSON().url||"";t(i).val(e)}),a[s].open()):alert("Required `data` attributes: name, to-selector")});var s=function(e){t(".design_bg_types").hide(),t("#show_"+e).show()};s(t("#design_bg_type").val()),t("body").on("change","#design_bg_type",function(){var e=t(this).val();s(e)}),t("ul.bg_list").on("click","li",function(){t(this).parent().children().removeClass("active"),t(this).addClass("active")}),t("#subscribers_wrap").on("click","#subscribers-export",function(){var e=t("#tab-modules #_wpnonce").val();t("<iframe />").attr("src",wpmm_vars.ajax_url+"?action=wpmm_subscribers_export&_wpnonce="+encodeURI(e)).appendTo("body").hide()}),t("#subscribers_wrap").on("click","#subscribers-empty-list",function(){var e=t("#tab-modules #_wpnonce").val();t.post(wpmm_vars.ajax_url,{action:"wpmm_subscribers_empty_list",_wpnonce:e},function(e){if(!e.success)return alert(e.data),!1;t("#subscribers_wrap").html(e.data)},"json")}),t("body").on("click",".reset_settings",function(){var e=t(this).data("tab"),a=t("#tab-"+e+" #_wpnonce").val();t.post(wpmm_vars.ajax_url,{action:"wpmm_reset_settings",tab:e,_wpnonce:a},function(t){if(!t.success)return alert(t.data),!1;window.location.reload(!0)},"json")}),t(".countdown_start").datetimepicker({timeFormat:"HH:mm:ss",dateFormat:"dd-mm-yy"})});